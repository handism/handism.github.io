# Handism's Tech Blog

## このブログについて

- 現役の内製クラウドインフラエンジニアによる技術ブログです。日々の業務やプライベートで得た知識の備忘録として運用中
- SSG（静的サイト生成）に対応しているので軽快に動作するはず
- ダークモードにも対応しており、OSの設定でダークモードをONにしている場合は自動的に背景が暗くなる
- サムネイル画像にも対応。比率は16:9がおすすめ
- サイドバーありの2カラムレイアウトで、レスポンシブレイアウトに対応
- 記事のデータソースは`Markdownファイル`に対応

## 技術スタック

- **フロントエンド**：Next.js 16 + React 19
- **言語**：TypeScript
- **スタイリング**：Tailwind CSS
- **マークダウン処理**：Remark + rehype（HTML変換、見出し自動リンク、スラッグ生成対応）
- **テーマ切り替え**：next-themes（ダークモード対応）
- **検索機能**：Fuse.js（クライアント側全文検索）
- **ホスティング**：GitHub Pages
- **デプロイ**：GitHub Actions（`main`ブランチへのプッシュで自動デプロイ）
- **E2Eテスト**：Playwright

## 使い方

### 導入

- 本リポジトリをクローンすればすぐに導入可能
- ホスティングについては、必要に応じて`GitHub Pages`などの設定を行ってください
  - `GitHub Actions`による自動デプロイには`.github/workflows/static.yml`を使用できます

### 開発方法

ローカルで動作確認する場合は以下コマンドで。終了するならCtrl + C。

```bash
npm run dev
```

### ビルド

本番ビルドを実行する場合は以下。

```bash
npm run build
npm start
```

SSG出力は`out`ディレクトリに生成されます。

### テスト

Playwrightでテストしたい場合は以下。
テストシナリオは`tests`ディレクトリ以下に配置する。

```bash
npm run test:e2e
```

UIモードでテストしたい場合は以下。

```bash
npm run test:e2e:ui
```

### コンテンツの追加

ブログ記事は`md`ディレクトリにMarkdownファイルとして配置します。  
ファイル名の命名規則：`kebab-case.md`

### デプロイメント

`main`ブランチへのプッシュにより、GitHub Actions ワークフローが自動実行され、`out`ディレクトリがGitHub Pagesへデプロイされます。

### サイト設定

- 設定ファイルは`xxx.mjs（作成中）`
- サイトごとに必要な設定を変更してください

### CSS設定

- グローバルのCSSは`app/globals.css`にまとめています
- 必要に応じて設定を変更・追加してください

### 記事ページ設定

- mdファイルは`md`ディレクトリ内に入れていってください
- `md/template`内にmdファイルのテンプレートが格納されているので、コピーして使用してください
  - `posts.md`：記事のテンプレート
- 下書きは`md/draft`ディレクトリ内に入れればサイトに反映されません
- 画像は`public/images`ディレクトリ内に入れてください
  - サムネイル画像は`16:9`がおすすめ
- `Frontmatter`は以下に対応しています
  - `title（タイトル）`：Webページ上のタイトル、記事のH1タグに反映
  - `date（作成日）`：`YYYY-MM-DD`形式、記事のヘッダ部に反映
  - `tags（タグ）`：配列形式、アルファベット・単一の半角スペース・ハイフンのみ使用可
  - `category（カテゴリー）`: 記事のカテゴリー、アルファベット・単一の半角スペース・ハイフンのみ使用可
  - `image（サムネイル画像）`：`sample.jpg`みたいにファイル名を指定
- H1タグは記事タイトルになるので、見出しはH2から始めてください

### Markdown

- **見出し**：`##`、`###`、`####`
- **改行**：`半角スペース2つ`
- **段落**：`空行`
- **箇条書き**：`*`、`-`
- **画像表示**：`![画像](/images/image.png)`
- **リンク**：`[リンク文言](https://github.com/handism/hekireki)`
- **強調**：`**強調**`
- **区切り線**：`***`、`---`
- **コード**：

```
`コード`
```

- コードブロック：pre,code

````
```
コードブロック
```
````

- 引用

```
> 引用
> ウィキペディアは誰でも編集できるフリー百科事典です
```

- 表

```
| ブログサービス | CMS | SSG |
| --- | --- | --- |
| はてなブログ | WordPress | Gatsby |
| Blogger | Jimdo | Hugo |
| Qiita | Movable Type | Jskyll |
```
